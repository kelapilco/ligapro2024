!function(t,e){var n=function(t,e){"use strict";if(!e.getElementsByClassName)return;var n,a=e.documentElement,i=t.Date,r=t.HTMLPictureElement,s=t.addEventListener,o=t.setTimeout,l=t.requestAnimationFrame||o,d=t.requestIdleCallback,u=/^picture$/i,c=["load","error","lazyincluded","_lazyloaded"],f={},g=Array.prototype.forEach,m=function(t,e){return f[e]||(f[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),f[e].test(t.getAttribute("class")||"")&&f[e]},v=function(t,e){m(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},h=function(t,e){var n;(n=m(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},z=function(t,e,n){var a=n?"addEventListener":"removeEventListener";n&&z(t,e),c.forEach(function(n){t[a](n,e)})},y=function(t,n,a,i,r){var s=e.createEvent("CustomEvent");return s.initCustomEvent(n,!i,!r,a||{}),t.dispatchEvent(s),s},p=function(e,a){var i;!r&&(i=t.picturefill||n.pf)?i({reevaluate:!0,elements:[e]}):a&&a.src&&(e.src=a.src)},b=function(t,e){return(getComputedStyle(t,null)||{})[e]},C=function(t,e,a){for(a=a||t.offsetWidth;a<n.minSize&&e&&!t._lazysizesWidth;)a=e.offsetWidth,e=e.parentNode;return a},A=(S=[],k=[],O=function(){var t=S;for(S=k,F=!0,R=!1;t.length;)t.shift()();F=!1},P=function(t,n){F&&!n?t.apply(this,arguments):(S.push(t),R||(R=!0,(e.hidden?o:l)(O)))},P._lsFlush=O,P),E=function(t,e){return e?function(){A(t)}:function(){var e=this,n=arguments;A(function(){t.apply(e,n)})}},L=function(t){var e,n,a=function(){e=null,t()},r=function(){var t=i.now()-n;t<99?o(r,99-t):(d||a)(a)};return function(){n=i.now(),e||(e=o(r,99))}},N=function(){var r,l,c,f,C,N,M,_,W,x,B,F,R,S,k,O,P,T,$,D,H,I,q=/^img$/i,j=/^iframe$/i,G="onscroll"in t&&!/glebot/.test(navigator.userAgent),J=0,K=0,Q=-1,U=function(t){K--,t&&t.target&&z(t.target,U),(!t||K<0||!t.target)&&(K=0)},V=function(t,n){var i,r=t,s="hidden"==b(e.body,"visibility")||"hidden"!=b(t,"visibility");for(x-=n,R+=n,B-=n,F+=n;s&&(r=r.offsetParent)&&r!=e.body&&r!=a;)(s=(b(r,"opacity")||1)>0)&&"visible"!=b(r,"overflow")&&(i=r.getBoundingClientRect(),s=F>i.left&&B<i.right&&R>i.top-1&&x<i.bottom+1);return s},X=function(){var t,i,s,o,d,u,f,g,m;if((C=n.loadMode)&&K<8&&(t=r.length)){i=0,Q++,null==k&&("expand"in n||(n.expand=a.clientHeight>500&&a.clientWidth>500?500:370),S=n.expand,k=S*n.expFactor),J<k&&K<1&&Q>2&&C>2&&!e.hidden?(J=k,Q=0):J=C>1&&Q>1&&K<6?S:0;for(;i<t;i++)if(r[i]&&!r[i]._lazyRace)if(G)if((g=r[i].getAttribute("data-expand"))&&(u=1*g)||(u=J),m!==u&&(_=innerWidth+u*O,W=innerHeight+u,f=-1*u,m=u),s=r[i].getBoundingClientRect(),(R=s.bottom)>=f&&(x=s.top)<=W&&(F=s.right)>=f*O&&(B=s.left)<=_&&(R||F||B||x)&&(c&&K<3&&!g&&(C<3||Q<4)||V(r[i],u))){if(it(r[i]),d=!0,K>9)break}else!d&&c&&!o&&K<4&&Q<4&&C>2&&(l[0]||n.preloadAfterLoad)&&(l[0]||!g&&(R||F||B||x||"auto"!=r[i].getAttribute(n.sizesAttr)))&&(o=l[0]||r[i]);else it(r[i]);o&&!d&&it(o)}et()},Y=(P=X,$=0,D=66,H=function(){T=!1,$=i.now(),P()},I=d?function(){d(H,{timeout:D}),66!==D&&(D=66)}:E(function(){o(H)},!0),function(t){var e;(t=!0===t)&&(D=44),T||(T=!0,(e=125-(i.now()-$))<0&&(e=0),t||e<9&&d?I():o(I,e))}),Z=function(t){v(t,n.loadedClass),h(t,n.loadingClass),h(t,n.afterLoadedClass)},tt=function(t){v(t.target,n.afterLoadedClass),et()},et=function(){if(M.length>0)for(var t,e,a=n.animateExpand,i=0,r=0;r<M.length;r++){var s=M[r],o=s.getAttribute("data-animate");o&&(a=o),t=M[r].getBoundingClientRect(),e!==a&&(_=innerWidth+a*O,W=innerHeight+a,i=-1*a,e=a),(R=t.bottom)>=i&&(x=t.top)<=W&&(F=t.right)>=i*O&&(B=t.left)<=_&&(R||F||B||x)&&m(s,n.afterLoadedClass)&&Z(s)}},nt=function(t){var e,a,i=t.getAttribute(n.srcsetAttr);(e=n.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i),e&&((a=t.parentNode).insertBefore(t.cloneNode(),t),a.removeChild(t))},at=E(function(t,e,a,i,r){var s,l,d,c,m,b;(m=y(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(a?v(t,n.autosizesClass):t.setAttribute("sizes",i)),l=t.getAttribute(n.srcsetAttr),s=t.getAttribute(n.srcAttr),r&&(d=t.parentNode,c=d&&u.test(d.nodeName||"")),b=e.firesLoad||"src"in t&&(l||s||c),m={target:t},b&&(z(t,U,!0),clearTimeout(f),f=o(U,2500),v(t,n.loadingClass),z(t,tt,!0)),c&&g.call(d.getElementsByTagName("source"),nt),l?t.setAttribute("srcset",l):s&&!c&&(j.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}}(t,s):t.src=s),(l||c)&&p(t,{src:s})),t._lazyRace&&delete t._lazyRace,h(t,n.lazyClass),A(function(){b&&!function(t){if(!t.complete)return!1;if(void 0!==t.naturalWidth&&0===t.naturalWidth)return!1;return!0}(t)||(b?U(m):K--)},!0)});var it=function(t){var e,a=q.test(t.nodeName),i=a&&(t.getAttribute(n.sizesAttr)||t.getAttribute("sizes")),r="auto"==i;(!r&&c||!a||!t.src&&!t.srcset||t.complete||m(t,n.errorClass))&&(e=y(t,"lazyunveilread").detail,r&&w.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,K++,at(t,e,r,i,a))},rt=function(){if(!c)if(i.now()-N<999)o(rt,999);else{var t=L(function(){n.loadMode=3,Y()});c=!0,n.loadMode=3,Y(),s("scroll",function(){3==n.loadMode&&(n.loadMode=2),t()},!0)}};return{_:function(){N=i.now(),r=e.getElementsByClassName(n.lazyClass),M=e.getElementsByClassName(n.afterLoadedClass),l=e.getElementsByClassName(n.lazyClass+" "+n.preloadClass),O=n.hFac,s("scroll",Y,!0),s("resize",Y,!0),t.MutationObserver?new MutationObserver(Y).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a.addEventListener("DOMNodeInserted",Y,!0),a.addEventListener("DOMAttrModified",Y,!0),setInterval(Y,999)),s("hashchange",Y,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,Y,!0)}),/d$|^c/.test(e.readyState)?rt():(s("load",rt),e.addEventListener("DOMContentLoaded",Y),o(rt,2e4)),r.length?(X(),A._lsFlush()):Y()},checkElems:Y,unveil:it}}(),w=(W=E(function(t,e,n,a){var i,r,s;if(t._lazysizesWidth=a,a+="px",t.setAttribute("sizes",a),u.test(e.nodeName||""))for(i=e.getElementsByTagName("source"),r=0,s=i.length;r<s;r++)i[r].setAttribute("sizes",a);n.detail.dataAttr||p(t,n.detail)}),x=function(t,e,n){var a,i=t.parentNode;i&&(n=C(t,i,n),(a=y(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=a.detail.width)&&n!==t._lazysizesWidth&&W(t,i,a,n))},B=L(function(){var t,e=_.length;if(e)for(t=0;t<e;t++)x(_[t])}),{_:function(){_=e.getElementsByClassName(n.autosizesClass),s("resize",B)},checkElems:B,updateElem:x}),M=function(){M.i||(M.i=!0,w._(),N._())};var _,W,x,B;var F,R,S,k,O,P;return function(){var e,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",afterLoadedClass:"afterloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,animateExpand:0};for(e in n=t.lazySizesConfig||t.lazysizesConfig||{},a)e in n||(n[e]=a[e]);t.lazySizesConfig=n,o(function(){n.init&&M()})}(),{cfg:n,autoSizer:w,loader:N,init:M,uP:p,aC:v,rC:h,hC:m,fire:y,gW:C,rAF:A}}(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window);
